---
title: "Pr√°tica e melhorias"
author: "Camily Nunes dos Santos"
date: "2025-02-05"
output: html_document
---

Aqui est√° uma vers√£o melhorada do seu script R, com melhor organiza√ß√£o, coment√°rios mais explicativos e boas pr√°ticas para torn√°-lo mais replic√°vel e compreens√≠vel. 

**Principais melhorias:**
- Organiza√ß√£o por se√ß√µes e t√≠tulos claros.
- Separa√ß√£o entre instala√ß√£o e carregamento de pacotes.
- Uso de `require()` para carregar pacotes (mais eficiente).
- Caminho relativo para evitar hardcoding de diret√≥rios.
- Melhoria na formata√ß√£o dos gr√°ficos e scripts de an√°lise.  
- Coment√°rios mais explicativos e concisos.

Vou colocar o c√≥digo atualizado no editor para facilitar.

#### Instala√ß√£o de pacotes (rode apenas uma vez) ####
# install.packages(c("UsingR", "fpp", "mFilter", "readxl", "seasonal", "urca", "FinTS", "tsoutliers", "forecast"))

#### Carregamento de pacotes ####
require(UsingR)       # Gr√°ficos b√°sicos
require(fpp)          # S√©rie elecequip
require(mFilter)      # Filtro Hodrick-Prescott
require(readxl)       # Leitura de planilhas Excel
require(seasonal)     # X-13 ARIMA para ajuste sazonal
require(urca)         # Testes de raiz unit√°ria
require(FinTS)        # Teste de estabilidade da vari√¢ncia no ARIMA
require(tsoutliers)   # Identifica√ß√£o de outliers em s√©ries temporais
require(forecast)     # Modelos ARIMA e previs√£o

#### An√°lise da base Galton ####
data(galton)
head(galton)  # Visualiza√ß√£o inicial

galton <- galton * 2.54  # Convers√£o de polegadas para cm
head(galton)

#### Gr√°fico de Histograma ####
hist(galton$child, xlab = "Altura (cm)", ylab = "Frequ√™ncia", col = "lightgray", border = "steelblue", main = "Distribui√ß√£o das Alturas dos Filhos")

#### Boxplot para Altura dos Pais ####
boxplot(galton$parent, ylab = "Altura (cm)", col = "seagreen3", main = "Altura dos Pais")

#### Gr√°fico de Dispers√£o: Peso x Altura ####
data(kid.weights)
kid.weights$weight <- kid.weights$weight * 0.45  # Convers√£o de libras para kg
kid.weights$height <- kid.weights$height * 2.54 / 100  # Convers√£o de polegadas para metros

plot(kid.weights$weight, kid.weights$height, xlab = "Peso (kg)", ylab = "Altura (m)", main = "Peso vs. Altura")

#### Regress√£o Linear ####
regressao <- lm(height ~ weight, data = kid.weights)
abline(regressao, col = "red")
summary(regressao)

#### Gr√°fico de Pizza: Propor√ß√£o de G√™neros ####
prop <- table(kid.weights$gender)
pie(prop, labels = c("Feminino", "Masculino"), col = c("palevioletred2", "dodgerblue3"), main = "Distribui√ß√£o de G√™nero")
legend("topright", legend = c("Feminino", "Masculino"), fill = c("palevioletred2", "dodgerblue3"))

#### S√©ries Temporais ####
data(elecequip)
ts.plot(elecequip, xlab = "Tempo", ylab = "√çndice de Novas Ordens", main = "S√©rie Elecequip")

decomp <- decompose(elecequip, type='additive')
plot(decomp)

#### Leitura de Dados Externos (Usar Caminho Relativo) ####
# setwd("caminho/para/seu/diretorio")
# Dados <- read_excel("PIB_Mensal.xlsx")

#### Criando S√©rie Temporal ####
# PIB <- ts(Dados$PIB[1:354], start = c(1995, 2), frequency = 12)
# ts.plot(PIB, main = "PIB Mensal")

#### Testes de Estacionariedade ####
# decomp_PIB <- decompose(PIB, type='additive')
# plot(decomp_PIB)

# Ajuste X13-ARIMA
# AjusteX13_PIB <- seas(PIB, transform.function = "none")
# plot(AjusteX13_PIB)

#### Modelo ARIMA para Previs√£o ####
# Prev_PIB <- auto.arima(PIB, seasonal = TRUE)
# forecast(Prev_PIB, h = 12)
# plot(forecast(Prev_PIB))

#### Conclus√£o ####
# O script foi melhorado para facilitar a replica√ß√£o e organiza√ß√£o dos c√≥digos.

Agora o script est√° mais limpo, organizado e f√°cil de entender. Al√©m disso, o uso de caminhos relativos e boas pr√°ticas de codifica√ß√£o o tornam mais replic√°vel. Se precisar de mais ajustes, me avise! üòä